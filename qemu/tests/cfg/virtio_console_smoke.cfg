- virtio_port_smoke: install setup image_copy unattended_install.cdrom
    type = virtio_console
    no virtio_console.virtio_console_smoke
    # Console cleanup is not 100%, consider using kill_vm_on_error
    kill_vm_on_error = yes
    # Default number of consoles
    virtio_ports = "vc1 vc2 vc3 vc4 vs1 vs2 vs3 vs4"
    virtio_port_type = "serialport"
    virtio_port_type_vc1 = "console"
    virtio_port_type_vc2 = "console"
    virtio_port_type_vc3 = "console"
    virtio_port_type_vc4 = "console"
    virtio_console_test_time = 60
    variants:
        # Tests which can run or serialport or console
        # NOTE: By default VM have booth serialports and consoles. The difference is that it uses serialport or console as tested object. If you want to test pure VM without the other virtio_port devices change virtio_ports (or virtio_port_type) in 'virtserialport' resp 'virtconsole' variants.
        - open:
           virtio_console_test = open
        - check_zero_sym:
            only Linux
            virtio_console_test = check_zero_sym
        - multi_open:
            virtio_console_test = multi_open
        - close:
            virtio_console_test = close
        - polling:
            # Works with virtconsole, but is not the comon usage, don't test by default
            no virtconsole
            only Linux
            virtio_console_test = polling
        - sigio:
            # Works with virtconsole, but is not the comon usage, don't test by default
            no virtconsole
            only Linux
            virtio_console_test = sigio
        - lseek:
            only Linux
            virtio_console_test = lseek
        - rw_host_offline:
            # console is always connected to underneath virtserialport.
            only virtserialport
            virtio_console_test = rw_host_offline
        - rw_host_offline_big_data:
            only Linux
            # console is always connected to underneath virtserialport.
            only virtserialport
            virtio_console_test = rw_host_offline_big_data
        - rw_blocking_mode:
            only Linux
            virtio_console_test = rw_blocking_mode
        - rw_nonblocking_mode:
            only Linux
            # console uses blocking mode to connect to underneath virtserialport.
            only virtserialport
            virtio_console_test = rw_nonblocking_mode
        - basic_loopback:
            virtio_console_test = basic_loopback
            # Use serialport or console as the main virtioport fpr the tests above
    variants:
        - virtserialport:
            # Uncomment this if you want to have VM only with serialports
            # virtio_ports = "vs1 vs2 vs3 vs4"
            virtio_console_params = serialport
        - virtconsole:
            # Uncomment this if you want to have VM only with consoles
            # virtio_ports = "vc1 vc2 vc3 vc4"
            virtio_console_params = console
    variants:
        # Use only single virtio-serial-pci
        - spread_linear:
            virtio_port_spread = 0
        # Spread consoles across multiple virtio-serial-pcis
        - spread_2:
            virtio_port_spread = 2
