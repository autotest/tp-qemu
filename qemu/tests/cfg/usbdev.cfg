- usbdev:
    virt_test_type = qemu
    no Host_RHEL.m5
    no Host_RHEL.m6.u1
    restart_vm = yes
    kill_vm_on_error = yes
    usbs = " usbtest"
    usb_bus = "usbtest.0"
    kill_vm = yes
    # usb controllers
    variants:
        - piix3-uhci:
            usb_type_usbtest = piix3-usb-uhci
            usb_controller = uhci
            usb_max_port_usbtest = 2
            no ppc64 ppc64le
        - piix4-uhci:
            usb_type_usbtest = piix4-usb-uhci
            usb_controller = uhci
            usb_max_port_usbtest = 2
            no ppc64 ppc64le
        - ich9-uhci:
            usb_type_usbtest = ich9-usb-uhci6
            usb_controller = uhci
            usb_max_port_usbtest = 2
            no ppc64 ppc64le
        - ich9-ehci:
            usb_type_usbtest = ich9-usb-ehci1
            usb_controller = ehci
            usb_max_port_usbtest = 6
            no ppc64 ppc64le
        - usb-ehci:
            usb_type_usbtest = usb-ehci
            usb_controller = ehci
            usb_max_port_usbtest = 6
            no usb_ccid usb_kbd usb_mouse usb_hub
        - nec-xhci:
            no RHEL.3 RHEL.4 RHEL.5
            no Host_RHEL.m6
            usb_type_usbtest = nec-usb-xhci
            usb_controller = xhci
            usb_max_port_usbtest = 4

    # usb toplogy
    variants:
        - without_usb_hub:
        - with_usb_hub:
            usb_devices += " hub1"
            usb_type_hub1 = usb-hub
            usb_port_hub1 = "2"
            usb_port_testdev = "2.1"
            usb_port_d0 = "2.1"
            no usb-ehci
            variants:
                - one_usb_dev:
                - max_usb_dev:
                    no usb_hub
                    no check
                    usb_devices += " d1 d2 d3 d4 d5 d6 d7"
                    udevs += " d1 d2 d3 d4 d5 d6 d7"
                    usb_port_d1 = "2.2"
                    usb_port_d2 = "2.3"
                    usb_port_d3 = "2.4"
                    usb_port_d4 = "2.5"
                    usb_port_d5 = "2.6"
                    usb_port_d6 = "2.7"
                    usb_port_d7 = "2.8"

    # usb devices
    variants:
        - usb_kbd:
            usb_type = "usb-kbd"
            usb_devices += " testdev"
        - usb_mouse:
            usb_type = "usb-mouse"
            usb_devices += " testdev"
        - usb_tablet:
            usb_type = "usb-tablet"
            usb_devices += " testdev"
        - usb_ccid:
            usb_type = "usb-ccid"
            usb_devices += " testdev"
        - usb_hub:
            usb_type = "usb-hub"
            usb_devices += " testdev"
        - usb_storage:
            usb_type = "usb-storage"
            no piix3-uhci piix4-uhci ich9-uhci
            max_usb_dev:
                usb_devices = " tablet1 hub1"
            udevs += " testdev"
            start_vm = no
        - usb_bot:
            usb_type = "usb-bot"
            no piix3-uhci piix4-uhci ich9-uhci
            max_usb_dev:
                usb_devices = " tablet1 hub1"
            udevs += " testdev"
            start_vm = no
    # usb tests
    variants:
        - check:
            type = usbdev_check
        - hotplug:
            no RHEL.3 RHEL.4 RHEL.5
            no usb_bot
            type = usbdev_hotplug
            only without_usb_hub
            usb_devices= " "
            start_vm = yes
            repeat_times = 1
        - migration:
            mig_timeout = 3600
            mig_protocol = "tcp"
            type = usbdev_migration
        - function:
            type = usbdev_func
            variants:
                - io_without_fs:
                    only usb_storage usb_bot
                    function = io_without_fs
                - io_with_fs:
                    only usb_storage usb_bot
                    function = io_with_fs
