- uefi_direct_kernel_boot:
    type = uefi_direct_kernel_boot
    only ovmf
    only Linux
    required_qemu = [10.0.0, )
    restore_ovmf_vars = yes
    backup_image_before_testing = yes
    restore_image_after_testing = yes
    start_vm = no
    kill_vm = no
    force_create_image = yes
    guest_port_unattended_install = 12323
    kernel = vmlinuz
    initrd = initrd.img
    inactivity_watcher = error
    inactivity_treshold = 1800
    image_verify_bootable = no
    image_copy_on_error = no
    lowest_mem = 512
    image_aio = threads
    check_secure_boot_enabled_cmd = 'dmesg|grep -i "Secure boot enabled"'
    hd_info_pattern = 'HD\\([^)]+\\)(?=.*\\.efi)'
    efiboot_output_cmd = 'command -v efibootmgr >/dev/null && (efibootmgr -v) || (dnf install -y efibootmgr && efibootmgr -v)'
    unattended_delivery_method = cdrom
    cdroms += ' unattended'
    drive_index_unattended = 1
    drive_index_cd1 = 2
    boot_once = d
    medium = cdrom
    redirs += ' unattended_install'
    extra_params += " -fw_cfg name=opt/org.tianocore/EnableLegacyLoader,string=no"
    boot_efi_file = "BOOTX64.EFI"
    append_option = "root=/dev/mapper/rhel-root ro console=tty0 rd.lvm.lv=rhel/root rd.lvm.lv=rhel/swap net.ifnames=0 console=ttyS0,115200"
    variants:
        - @with_installation:
    variants:
        - @extra_cdrom_ks:
