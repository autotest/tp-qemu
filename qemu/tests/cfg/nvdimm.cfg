- nvdimm:
    type = nvdimm
    slots_mem = 4
    maxmem_mem = 32G
    kill_vm_on_error = yes
    kill_vm = yes
    login_timeout = 240
    only RHEL.7.3
    no Host_RHEL.m5
    no Host_RHEL.m6
    no Host_RHEL.m7.u0, Host_RHEL.m7.u1, Host_RHEL.m7.u2
    machine_type_extra_params = "nvdimm=on"
    backend_mem = memory-backend-file
    mem-path = /tmp/nvdimm0
    mount_dir = "/mnt"
    pre_command = "dd if=/dev/zero of=${mem-path} bs=1M count=1024"
    pmem = /dev/pmem0
    format_command = "mkfs.xfs -f ${pmem}"
    mount_command = "mount -o dax ${pmem} ${mount_dir}"
    mem_devs = mem1
    size_mem = 1G
    share_mem = on
    nv_file = "${mount_dir}/nv0"

    variants:
        - nvdimm_basic:
