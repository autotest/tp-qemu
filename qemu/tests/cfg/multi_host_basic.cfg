- multi_host_basic:
    virt_test_type = qemu
    type = multi_host_basic
    restart_vm = yes
    kill_vm = yes
    login_timeout = 240
    check_vm_needs_restart = no # FIXME: Work around for it
    take_regular_screendumps = no
    store_vm_info = no
    variants:
        - @default:
        - with_hotplug:
            variants:
                - with_block:
                    hotplug_images = "stg0"
                    images += " ${hotplug_images}"
                    boot_drive_stg0 = no
                    image_name_stg0 = /mnt/images/storage0
                    image_size_stg0 = 1G
                    remove_image_stg0 = yes
                    force_create_image_stg0 = yes

        - with_unplug:
            variants:
                - with_block:
                    unplug_images = "stg0"
                    images += " ${unplug_images}"
                    image_name_stg0 = /mnt/images/storage0
                    image_size_stg0 = 1G
                    remove_image_stg0 = yes
                    force_create_image_stg0 = yes

    variants:
        - @default:
            reboot = yes
            nodes = node1 node2
            vms = vm1 vm2
            node_selectors_node1 = [{"key": "cpu_vendor_id", "operator": "eq", "values": "GenuineIntel"}, {"key": "hostname", "operator": "contains", "values": "redhat.com"}]
            node_selectors_node2 = [{"key": "cpu_vendor_id", "operator": "==", "values": "GenuineIntel"}, {"key": "hostname", "operator": "contains", "values": "redhat.com"}]
            vm_node_vm1 = node1
            vm_node_vm2 = node2
        - with_pool:
            reboot = yes
            nodes = node1 node2
            vms = vm1 vm2
            node_selectors_node1 = [{"key": "cpu_vendor_id", "operator": "eq", "values": "GenuineIntel"}, {"key": "hostname", "operator": "contains", "values": "redhat.com"}]
            node_selectors_node2 = [{"key": "cpu_vendor_id", "operator": "==", "values": "GenuineIntel"}, {"key": "hostname", "operator": "contains", "values": "redhat.com"}]
            vm_node_vm1 = node1
            vm_node_vm2 = node2
            image_format = qcow2

            pools = p1 p2 p3
            pool_selectors_p1 = [{"key": "type", "operator": "==", "values": "filesystem"}, {"key": "access.nodes", "operator": "==", "values": ['node1']}]
            pool_selectors_p2 = [{"key": "type", "operator": "==", "values": "filesystem"}, {"key": "access.nodes", "operator": "==", "values": ['node2']}]
            pool_selectors_p3 = [{"key": "type", "operator": "==", "values": "nfs"}, {"key": "access.nodes", "operator": "contains", "values": "node2"}]
            image_pool_name_image1_vm1 = p1
            image_pool_name_image1_vm2 = p2
            variants:
                - @default:
                - with_migration:
                    node_selectors_node1 = [{"key": "cpu_model_name", "operator": "eq", "values": "Intel(R) Xeon(R) Silver 4116 CPU @ 2.10GHz"}, {"key": "hostname", "operator": "contains", "values": "redhat.com"}]
                    node_selectors_node2 = [{"key": "cpu_model_name", "operator": "==", "values": "Intel(R) Xeon(R) Silver 4116 CPU @ 2.10GHz"}, {"key": "hostname", "operator": "contains", "values": "redhat.com"}]
                    reboot = no
                    vms = vm4
                    vm_node_vm4 = node1
                    mig_dest_node_vm4 = node2
                    pool_selectors_p3 = [{"key": "type", "operator": "==", "values": "nfs"}, {"key": "access.nodes", "operator": "contains", "values": ["node1", "node2"]}]
                    image_pool_name_image1_vm4 = p3
                    image_name_image1_vm4 = /mnt/images/rhel950-64-virtio-scsi-ovmf.qcow2
                    image_format_image1_vm4 = qcow2
