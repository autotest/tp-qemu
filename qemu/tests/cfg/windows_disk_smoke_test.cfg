- windows_disk_smoke_test:
    type = windows_disk_smoke_test
    only Windows
    start_vm = yes
    kill_vm_on_error = yes
    clear_verifier = "verifier.exe /reset"
    images += " stg"
    image_name_stg = "images/storage"
    image_size_stg = 4G
    force_create_image_stg = yes
    iozone_cli = "%s:\\Iozone\\iozone.exe -az -b %s:\\output.xlsx -g 2g -y 32k -i 0 -i 1 -f %s:\\testing.out"
    disk_format = "%s:\\diskpart_cmd.py --disk_id=%s --op=mount_disk"
    iozone_start_timeout = 600
    variants:
        #all support types:
        - with_virtio_blk:
            drive_format_stg = virtio
            verifier_cli = verifier.exe /standard /driver viostor.sys
            verifier_query = verifier.exe /querysettings | find "viostor.sys"
        - with_virtio_scsi:
            drive_format_stg = scsi-hd
            verifier_cli = verifier.exe /standard /driver vioscsi.sys
            verifier_query = verifier.exe /querysettings | find "vioscsi.sys"
        - with_ide:
            drive_format_stg = ide

    variants:
        - with_stop_continue:
            suppress_exception = no
            virt_subtest = stop_continue
            iozone_timeout = 1800
        - with_shutdown:
            suppress_exception = yes
            shutdown_method = shell
            virt_subtest = shutdown
            iozone_timeout = 600
        - with_system_reset:
            virt_subtest = boot
            reboot_count = 1
            suppress_exception = yes
            reboot_method = system_reset
            iozone_timeout = 600
        - with_reboot:
            virt_subtest = boot
            reboot_count = 1
            suppress_exception = yes
            reboot_method = shell
            iozone_timeout = 600
